@using WebApp1.DataAccess;
@model LitTextyDbContext
@{
    ViewData["Title"] = "Liturgicke texty";
}

<h1>Texty</h1>
<head>
    <style>
        aside {
            width: 30%;
            float: left;
            background-color: var(--bs-gray-dark);
            margin-right: 20px;
            max-width: 170px;
        }
    </style>
    <script src="https://cdn.tiny.cloud/1/pe9vrlfk8d5dm7ma9g0na5ej7zzhlhw48irehlx4uwvdkr00/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
    <script type="text/javascript">
        tinymce.init({
            selector: '#mytextarea'
        });
    </script>
</head>
<body>
    <aside>
        <ul id="myUL">
            @foreach (Doba doba in Model.Doba.ToList())
            {
                <li>
                    <span class="caret">@doba.CelyNazev</span>
                    <ul class="nested">
                        @foreach (Svatek svatek in Model.Svatek.Where(s => s.DobaId == doba.Id).ToList())
                        {
                            <li><a asp-controller="Texty" asp-action=SvatekSelect asp-route-id=@svatek.Id> @svatek.Cely_nazev</a></li>
                        }
                    </ul>
                </li>
            }
        </ul>
    </aside>
    <form method="post" asp-controller="Texty" asp-action="Index">
        <div class="topControls">
            <label>Cyklus: </label>
            @Html.DropDownList("cyklus", @Html.GetEnumSelectList(typeof(Cyklus)))
            Datum <input type="date" id="datepicker" name="date" value="@DateTime.Now.ToString("yyyy-MM-dd")" />
            <input type="submit" value="Ulozit">
        </div>
        <div class="editor">
            <textarea id="HtmlText" name="text">
                <p>This is an example of <b>bold</b> text.</p>
                <p>This is an example of <i>italic</i> text.</p>
                <p>This is an example of <u>underlined</u> text.</p>
                <p>This is an example of a <a href="https://www.bing.com">link</a>.</p>
            </textarea>
            <script>
                tinymce.init({
                    selector: 'textarea',
                    plugins: 'save anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount',
                    toolbar: 'save undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat',
                });
            </script>
        </div>
    </form>
    <style>
        .topControls {
            margin-bottom: 20px;
            margin-right: 20px;
            margin-left: 20px;
            align-content: center;
        }

        .editor {
            width: 100%;
        }
    </style>
</body>